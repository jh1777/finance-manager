<div class="page">
    <app-page-header>
        <div class="left">{{ pageTitle }}</div>
        <div class="right">
            <span class="status-text">{{ lastResult }}</span>
<!--            <app-menu-button [label]="addEntryLabel" [icon]="addEntryIcon" iconSize=18 (clickEvent)="toggleNewEntryForm()"></app-menu-button>
 -->
        </div>
    </app-page-header>
    <p></p>
    <app-table 
        [header]="header" 
        [rows]="rows" 
        [size]="tableSize"
        [footer]="footerText"
        collapseGroupsByDefault=true 
        [groupColumn]="groupCell" 
        [sortEntry]="currentSortEntry"
        (sortAction)="sortColumn($event)">
    </app-table>
</div>

<jw-modal id="delete-confirmation" class="small-modal">
    <h3>Really Delete Entry</h3>
    <p>{{deleteConfirmMessage}}</p>
    <button type="button" class="btn btn-danger" (click)="deleteEntry(deletionEntry)">Delete</button>
    &nbsp;
    <button type="button" class="btn btn-primary" style="float: right;" (click)="closeModal('delete-confirmation');">Cancel</button>
</jw-modal>

<jw-modal id="change-value" class="small-modal">
    <h4>Change expense record</h4>
    <p>{{ changeEntry.Name }} pro {{ changeEntry.Intervall }} (id: {{ changeEntry.id }})</p>

    <table style="width: 100%;">
        <tr>
            <td style="width: 30%;">
                <strong>New Value:</strong>
            </td>
            <td>
                <input type="number" id="value" name="Betrag" required [(ngModel)]="changeEntry.Betrag"/>
            </td>
        </tr>
        <tr>&nbsp;</tr>
        <tr>
            <td style="width: 30%;">
                <strong>Start Date:</strong>
            </td>
            <td>
                <input type="date" id="datum" required [(ngModel)]="changeEntry.Start" name="Datum">
            </td>
        </tr>
    </table>

    <p></p>

    <button type="button" class="btn btn-danger" (click)="change()">Change</button>
    &nbsp;
    <button type="button" class="btn btn-primary" style="float: right;" (click)="closeModal('change-value');">Cancel</button>
</jw-modal>